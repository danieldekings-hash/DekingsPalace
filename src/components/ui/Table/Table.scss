@import '../../../styles/tokens';

// Generic Table Component Styles
.table-container {
  border-radius: $border-radius;
  overflow: hidden;
  box-shadow: $shadow-sm;
  background-color: $bg-card;
  
  .table {
    margin-bottom: 0;
    background-color: $bg-card !important;
    color: $text-primary !important;
    
    // Override Bootstrap table CSS variables for dark theme
    --bs-table-bg: #{$bg-card};
    --bs-table-color: #{$text-primary};
    --bs-table-border-color: rgba($border-color, 0.1);
    --bs-table-hover-bg: rgba($primary-color, 0.03);
    --bs-table-hover-color: #{$text-primary};
    --bs-table-striped-bg: rgba($primary-color, 0.02);
    --bs-table-striped-color: #{$text-primary};
    --bs-table-active-bg: rgba($primary-color, 0.05);
    --bs-table-active-color: #{$text-primary};
    
    thead {
      background: linear-gradient(135deg, $bg-secondary 0%, darken($bg-secondary, 5%) 100%) !important;
      
      th {
        font-weight: $font-weight-semibold;
        text-transform: uppercase;
        font-size: $font-size-sm;
        letter-spacing: 0.5px;
        padding: 1rem;
        border-bottom: 2px solid $primary-color !important;
        color: $text-primary !important;
        background-color: transparent !important;
        border-top: none !important;
        border-left: none !important;
        border-right: none !important;
        
        &.sortable {
          cursor: pointer;
          user-select: none;
          transition: all $transition-fast;
          
          &:hover {
            background-color: rgba($primary-color, 0.1) !important;
            color: $primary-color !important;
          }
        }
        
        .th-content {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 0.5rem;
          
          .sort-icon {
            font-size: $font-size-sm;
            color: $primary-color;
            transition: transform $transition-fast;
          }
        }
      }
    }
    
    tbody {
      background-color: $bg-card !important;
      
      tr {
        transition: all $transition-fast;
        border-bottom: 1px solid rgba($border-color, 0.1);
        background-color: $bg-card !important;
        
        &.hoverable:hover {
          background-color: rgba($primary-color, 0.03) !important;
          transform: translateX(2px);
        }
        
        &:last-child {
          border-bottom: none;
        }
        
        td {
          padding: 1rem;
          vertical-align: middle;
          border: none !important;
          background-color: transparent !important;
          color: $text-primary !important;
        }
      }
    }
  }
}

// Loading state
.table-loading {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 200px;
  background-color: $bg-card;
  border-radius: $border-radius;
  
  .spinner-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 200px;
  }
  
  .spinner {
    width: 3rem;
    height: 3rem;
    border: 0.3rem solid rgba($primary-color, 0.2);
    border-top-color: $primary-color;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

// Empty state
.table-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  padding: 2rem;
  background-color: $bg-card;
  border-radius: $border-radius;
  
  .empty-icon {
    margin-bottom: 1rem;
    color: $text-secondary;
    
    svg {
      width: 3rem;
      height: 3rem;
    }
  }
  
  .empty-message {
    color: $text-secondary;
    font-size: $font-size-lg;
    text-align: center;
  }
}

// Responsive table
@media (max-width: $breakpoint-md) {
  .table-container {
    .table {
      font-size: $font-size-sm;
      
      th, td {
        padding: 0.75rem 0.5rem;
      }
    }
  }
}

@media (max-width: $breakpoint-sm) {
  .table-container {
    .table {
      font-size: $font-size-xs;
      
      th, td {
        padding: 0.5rem 0.25rem;
      }
      
      .th-content {
        flex-direction: column;
        gap: 0.25rem;
      }
    }
  }
}

// Custom scrollbar for table container
.table-container {
  &::-webkit-scrollbar {
    height: 8px;
  }
  
  &::-webkit-scrollbar-track {
    background: $bg-secondary;
    border-radius: $border-radius;
  }
  
  &::-webkit-scrollbar-thumb {
    background: $primary-color;
    border-radius: $border-radius;
    
    &:hover {
      background: darken($primary-color, 10%);
    }
  }
}
